from factory import List
from factory.alchemy import SQLAlchemyModelFactory
from factory.faker import Faker

from app.database.models.detection import Job
from app.database.models.report import *


class JobFactory(SQLAlchemyModelFactory):
    class Meta:
        model = Job
        sqlalchemy_session_persistence = "commit"

    gl_project_dir = Faker('file_path')
    gl_commit_sha = Faker('sha1')
    gl_project_id = Faker('random_number', digits=5)
    gl_pipeline_id = Faker('random_number', digits=5)
    gl_job_id = Faker('random_number', digits=5)
    diff = List([Faker('file_path') for _ in range(5)])
