import { Ban, Loader } from "lucide-react"

import Link from "next/link"

import { 
  CardContent
} from "@/components/ui/card"
import {
  Alert,
  AlertDescription,
  AlertTitle,
} from "@/components/ui/alert"
import { Button } from "@/components/ui/button"

interface SecurityReportErrorCardContentProps extends React.ComponentProps<typeof CardContent> {
  isLoading: boolean
  isError: boolean
}

const SecurityReportErrorCardContent = ({
  isLoading,
  isError,
}: SecurityReportErrorCardContentProps) => {

  const renderErrorMessageSection = () => {
    return (
      <Alert>
        <Ban className="size-4" />
        <AlertTitle>Error</AlertTitle>
        <AlertDescription className="mt-3 leading-loose">
          Unable to provide any information for the security report requested.<span>&nbsp;</span>
          The security report could still be in the process of being generated.
          Please try again later or head to the
          <Button variant="link" asChild className="px-1 py-0 h-0">
            <Link href="/jobs">Jobs</Link>
          </Button>
          page to explore other jobs.
        </AlertDescription>
      </Alert>
    )
  }

  const renderLoadingMessageSection = () => {
    return (
      <Alert>
        <Loader className="size-4 animate-spin-slow" />
        <AlertTitle>Loading</AlertTitle>
        <AlertDescription className="mt-3 leading-loose">
          The security report is currently being retrieved. Please give it a moment or head to the
          <Button variant="link" asChild className="px-1 py-0 h-0">
            <Link href="/jobs">Jobs</Link>
          </Button>
          page to explore other jobs.
        </AlertDescription>
      </Alert>
    )
  }
  
  return (
    <div className="mt-4">
      {isLoading && !isError
        ? renderLoadingMessageSection()
        : renderErrorMessageSection()
      }
    </div>
  )
}

export default SecurityReportErrorCardContent
